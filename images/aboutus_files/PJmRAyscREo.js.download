;/*FB_PKG_DELIM*/

__d("PolarisInsightsGating",["gkx","qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("4940")}function b(){return c("qex")._("171")===!0}g.isViewsEnabled=a;g.isPrismStylingEnabled=b}),98);
__d("PolarisProfileStoryHighlightSectionText.react",["IGDSText.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i,l={titleContainer:{cursor:"x1ypdohk",textAlign:"x2b8uid",$$css:!0}};function a(a){var b=j(8),d=a.highlightLabel,e=a.isSmallScreen;a=a.itemTitleXStyle;var f;b[0]!==a?(f=(h||(h=c("stylex")))(a,l.titleContainer),b[0]=a,b[1]=f):f=b[1];b[2]!==e||b[3]!==d?(a=e?k.jsx(c("IGDSText.react").Body2,{maxLines:1,zeroMargin:!0,children:d}):k.jsx(c("IGDSText.react").Body2Emphasized,{maxLines:1,zeroMargin:!0,children:d}),b[2]=e,b[3]=d,b[4]=a):a=b[4];b[5]!==f||b[6]!==a?(e=k.jsx("div",{className:f,children:a}),b[5]=f,b[6]=a,b[7]=e):e=b[7];return e}g["default"]=a}),98);
__d("PolarisProfileNewHighlightTrayItem.react",["CometPressable.react","IGDSAddOutline24Icon.react","PolarisNewHighlightsStrings","PolarisProfileStoryHighlightSectionText.react","PolarisStoryRing.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i,l={pressable:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0}};function a(a){var b=j(26),e=a.avatarSize,f=a.isSmallScreen,g=a.itemTitleXStyle,i=a.itemXStyle;a=a.onClick;var m;b[0]!==e?(m={height:e,width:e},b[0]=e,b[1]=m):m=b[1];m=m;var n;b[2]!==i?(n=(h||(h=c("stylex")))(i),b[2]=i,b[3]=n):n=b[3];b[4]===Symbol["for"]("react.memo_cache_sentinel")?(i="xamitd3 x1ypdohk x1lliihq x1n2onr6 x87ps6o",b[4]=i):i=b[4];var o;b[5]!==e?(o=k.jsx(c("PolarisStoryRing.react"),{isCenterOnAvatar:!0,seen:!0,showRing:!0,size:e}),b[5]=e,b[6]=o):o=b[6];b[7]===Symbol["for"]("react.memo_cache_sentinel")?(e="xnz67gz x14yjl9h xudhj91 x18nykt9 xww2gxu x6ikm8r x10wlt62 x1n2onr6 x6s0dn4 x78zum5 xl56j7k",b[7]=e):e=b[7];var p=f?30:44,q;b[8]!==p?(q=k.jsx(c("IGDSAddOutline24Icon.react"),{alt:d("PolarisNewHighlightsStrings").NEW_HIGHLIGHT_BUTTON_ALT_TEXT,color:"ig-tertiary-icon",size:p}),b[8]=p,b[9]=q):q=b[9];b[10]!==m||b[11]!==q?(p=k.jsx("div",{className:e,style:m,children:q}),b[10]=m,b[11]=q,b[12]=p):p=b[12];b[13]!==o||b[14]!==p?(e=k.jsxs("div",{className:i,children:[o,p]}),b[13]=o,b[14]=p,b[15]=e):e=b[15];b[16]!==f||b[17]!==g?(m=k.jsx(c("PolarisProfileStoryHighlightSectionText.react"),{highlightLabel:d("PolarisNewHighlightsStrings").NEW_HIGHLIGHT_BUTTON_TEXT,isSmallScreen:f,itemTitleXStyle:g}),b[16]=f,b[17]=g,b[18]=m):m=b[18];b[19]!==a||b[20]!==e||b[21]!==m?(q=k.jsxs(c("CometPressable.react"),{onPress:a,overlayDisabled:!0,xstyle:l.pressable,children:[e,m]}),b[19]=a,b[20]=e,b[21]=m,b[22]=q):q=b[22];b[23]!==n||b[24]!==q?(i=k.jsx("div",{className:n,children:q}),b[23]=n,b[24]=q,b[25]=i):i=b[25];return i}g["default"]=a}),98);
__d("PolarisProfileStoryHighlightsTrayItem_reel.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisProfileStoryHighlightsTrayItem_reel",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},action:"THROW",path:"id"},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"XDTReelCoverMediaClientDict",kind:"LinkedField",name:"cover_media",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTReelCoverMediaImageVersionClientDict",kind:"LinkedField",name:"cropped_image_version",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],type:"XDTReelDict",abstractKey:null};e.exports=a}),null);
__d("PolarisProfileStoryHighlightsTrayItem.next.react",["fbt","CometImage.react","CometPressable.react","CometRelay","PolarisAvatarWithStories.react","PolarisConfig","PolarisProfileStoryHighlightSectionText.react","PolarisProfileStoryHighlightsTrayItem_reel.graphql","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=(k||(k=d("react"))).c,m=k,n={avatar:{backgroundColor:"xnz67gz",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",display:"x1lliihq",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0},pressable:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0}};function a(a){var e,f,g=l(31),k=a.avatarSize,o=a.isLoading,p=a.isSmallScreen,q=a.itemTitleXStyle,r=a.itemXStyle,s=a.onClick;a=a.reel$key;var t=d("CometRelay").useFragment(i!==void 0?i:i=b("PolarisProfileStoryHighlightsTrayItem_reel.graphql"),a);a=function(a){a.stopPropagation(),s(t.id)};var u;g[0]!==k?(u={height:k,width:k},g[0]=k,g[1]=u):u=g[1];u=u;e=(e=t.cover_media)==null?void 0:(e=e.cropped_image_version)==null?void 0:e.url;var v;g[2]!==r?(v=(j||(j=c("stylex")))(r),g[2]=r,g[3]=v):v=g[3];r=c("CometPressable.react");var w=!0,x=n,y=c("PolarisAvatarWithStories.react"),z=!0,A=!1,B=!0,C=!0,D,E;g[4]===Symbol["for"]("react.memo_cache_sentinel")?(D=d("PolarisConfig").isLoggedIn(),E="xnz67gz x14yjl9h xudhj91 x18nykt9 xww2gxu x1lliihq x6ikm8r x10wlt62 x1n2onr6",g[4]=D,g[5]=E):(D=g[4],E=g[5]);f=e!=null&&m.jsx(c("CometImage.react"),{alt:h._("__JHASH__ZntYiRyKPAQ__JHASH__",[h._param("username",(f=t.user)==null?void 0:f.username)]),height:k,src:e,testid:void 0,width:k});g[6]!==E||g[7]!==u||g[8]!==f?(e=m.jsx("div",{className:E,style:u,children:f}),g[6]=E,g[7]=u,g[8]=f,g[9]=e):e=g[9];g[10]!==y||g[11]!==o||g[12]!==a||g[13]!==t.id||g[14]!==k||g[15]!==D||g[16]!==e?(E=m.jsx(y,{canTabFocus:z,hasPrideMedia:A,isLoading:o,isReelSeen:B,onClick:a,reelId:t.id,showRing:C,size:k,viewerLoggedIn:D,children:e}),g[10]=y,g[11]=o,g[12]=a,g[13]=t.id,g[14]=k,g[15]=D,g[16]=e,g[17]=E):E=g[17];g[18]!==t.title||g[19]!==p||g[20]!==q?(u=m.jsx(c("PolarisProfileStoryHighlightSectionText.react"),{highlightLabel:t.title,isSmallScreen:p,itemTitleXStyle:q}),g[18]=t.title,g[19]=p,g[20]=q,g[21]=u):u=g[21];g[22]!==r||g[23]!==a||g[24]!==x.pressable||g[25]!==E||g[26]!==u?(f=m.jsxs(r,{onPress:a,overlayDisabled:w,xstyle:x.pressable,children:[E,u]}),g[22]=r,g[23]=a,g[24]=x.pressable,g[25]=E,g[26]=u,g[27]=f):f=g[27];g[28]!==v||g[29]!==f?(z=m.jsx("div",{className:v,children:f}),g[28]=v,g[29]=f,g[30]=z):z=g[30];return z}g["default"]=a}),226);
__d("PolarisProfileStoryHighlightsTrayContent.react",["CometRelay","IGDSBox.react","JSResourceForInteraction","PolarisConfig","PolarisProfileNewHighlightTrayItem.react","PolarisProfileStoryHighlightsTrayContentDirectFragment","PolarisProfileStoryHighlightsTrayContentDirectQuery","PolarisProfileStoryHighlightsTrayContentFragment","PolarisProfileStoryHighlightsTrayContentQuery","PolarisProfileStoryHighlightsTrayItem.next.react","PolarisReactRedux.react","PolarisStoryActions","PolarisUA","PolarisVirtualHSnapScroll.react","cr:602","cr:8390","gkx","immutable-4.0.0-rc.9","polarisLogAction","react","stylex","useIGDSLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;var k=e.useCallback,l=e.useMemo,m=e.useState,n=(e=b("cr:602"))!=null?e:b("cr:8390"),o=c("JSResourceForInteraction")("PolarisCreateAndAddHighlightsModal.react").__setRef("PolarisProfileStoryHighlightsTrayContent.react");function a(a){var b=a.initialVisibleItems,e=a.isSmallScreen,f=a.itemTitleXStyle,g=a.itemXStyle,i=a.queryReference,p=a.sizes,q=a.userID;a=a.xstyle;i=d("CometRelay").usePreloadedQuery(c("gkx")("1746")?c("PolarisProfileStoryHighlightsTrayContentDirectQuery"):c("PolarisProfileStoryHighlightsTrayContentQuery"),i);i=d("CometRelay").usePaginationFragment(c("gkx")("1746")?c("PolarisProfileStoryHighlightsTrayContentDirectFragment"):c("PolarisProfileStoryHighlightsTrayContentFragment"),i);var r=i.data,s=i.refetch,t=d("PolarisReactRedux.react").useDispatch(),u=l(function(){var a;return(a=(a=r.highlights)==null?void 0:a.edges.map(function(a){return a.node}))!=null?a:[]},[r.highlights]);i=l(function(){return u.map(function(a){return a.id}).filter(Boolean)},[u]);var v=n(i);i=m(null);var w=i[0],x=i[1],y=k(function(a){x(a);if(v!=null){v(a,function(){x(null)});return}else t(d("PolarisStoryActions").openReelsMedia(d("immutable-4.0.0-rc.9").Seq.Indexed(u.map(function(a){return{id:a.id}})),"reel_highlight_profile",a,"",void 0,!0))},[t,v,u]);i=c("useIGDSLazyDialog")(o);var z=i[0],A=k(function(){c("polarisLogAction")("addHighlightIconClick"),z({onCreateSuccess:function(){s({user_id:q},{fetchPolicy:"network-only"})},userId:q})},[s,z,q]);i=l(function(){var a=u.map(function(a){return j.jsx(c("IGDSBox.react"),{alignItems:"center",justifyContent:"center",position:"relative",width:p.cardWidth+p.gapWidth/2,children:j.jsx(c("PolarisProfileStoryHighlightsTrayItem.next.react"),{avatarSize:p.avatarSize,isLoading:a.id===w,isSmallScreen:e,itemTitleXStyle:f,itemXStyle:g,onClick:y,reel$key:a})},a.id)}),b=j.jsx(c("IGDSBox.react"),{alignItems:"center",justifyContent:"center",position:"relative",width:p.cardWidth+p.gapWidth/2,children:j.jsx(c("PolarisProfileNewHighlightTrayItem.react"),{avatarSize:p.avatarSize,isSmallScreen:e,itemTitleXStyle:f,itemXStyle:g,onClick:A})},"newHighlight");return q===d("PolarisConfig").getViewerId()&&d("PolarisUA").isDesktop()?[].concat(a,[b]):a},[u,p.cardWidth,p.gapWidth,p.avatarSize,e,f,g,A,q,w,y]);return i.length===0?null:j.jsx("div",{className:(h||(h=c("stylex")))(a),children:j.jsx(c("PolarisVirtualHSnapScroll.react"),{gutterWidth:p.gutterWidth,initialVisibleItemsGuess:b,itemWidth:p.cardWidth+p.gutterWidth/2,overscan:7,pagerDisabled:e,children:i},"highlights")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);